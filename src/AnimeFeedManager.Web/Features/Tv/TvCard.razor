@using AnimeFeedManager.Features.Tv.Library.Queries


@if (Series is not null)
{
    <SeriesCard SeriesInfo="@Series.TvSeries.AsSeriesCard()">
        <CardControls>
            @switch (Series)
            {
                case Available:
                case AvailableForSubscription:
                    <Badge Text="Available" Type="StatusType.Success"></Badge>
                    break;
                case Subscribed:
                    <Badge Text="Subscribed" Type="StatusType.Primary"></Badge>
                    break;
                case Interested:
                    <Badge Text="Interested" Type="StatusType.Secondary"></Badge>
                    break;
                case Completed:
                    <Badge Text="Completed" Type="StatusType.Info"></Badge>
                    break;
                default:
                    <Badge Text="Not Available" Type="StatusType.Warning"></Badge>
                    break;
            }

            @if (Series.User is AuthenticatedUser)
            {
                <ExpandableFab>
                    <Buttons>
                        @switch (Series)
                        {
                            case AvailableForSubscription:
                                <FabButtonContainer Label="Subscribe">
                                    <button class="btn btn-sm btn-circle btn-success shadow-md"
                                            aria-label="Subscribe @Series.TvSeries.Title">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                             stroke-width="1.5" stroke="currentColor" class="size-6">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                  d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                                        </svg>
                                    </button>
                                </FabButtonContainer>
                                break;
                            case Subscribed:
                                <FabButtonContainer Label="Unsubscribe">
                                    <button class="btn btn-sm btn-circle btn-error shadow-md"
                                            aria-label="Unsubscribe @Series.TvSeries.Title">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                             stroke-width="1.5" stroke="currentColor" class="size-6">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                  d="m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m6 4.125 2.25 2.25m0 0 2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"/>
                                        </svg>

                                    </button>
                                </FabButtonContainer>
                                break;
                            case AvailableForFuture:
                                <FabButtonContainer Label="Add to Interested">
                                    <button class="btn btn-sm btn-circle btn-success shadow-md"
                                            aria-label="Add to Interested @Series.TvSeries.Title">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z" />
                                        </svg>


                                    </button>
                                </FabButtonContainer>
                                break;
                                
                            case Interested:
                                <FabButtonContainer Label="Remove from Interested">
                                    <button class="btn btn-sm btn-circle btn-success shadow-md"
                                            aria-label="Remove from Interested @Series.TvSeries.Title">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="m3 3 1.664 1.664M21 21l-1.5-1.5m-5.485-1.242L12 17.25 4.5 21V8.742m.164-4.078a2.15 2.15 0 0 1 1.743-1.342 48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185V19.5M4.664 4.664 19.5 19.5" />
                                        </svg>
                                    </button>
                                </FabButtonContainer>
                                break;
                                
                        }

                    </Buttons>
                </ExpandableFab>
            }

        </CardControls>
    </SeriesCard>
}

@code {
    [Parameter, EditorRequired] public UserTvSeries? Series { get; set; }
}