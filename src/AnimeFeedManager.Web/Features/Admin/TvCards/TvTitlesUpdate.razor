@using AnimeFeedManager.Web.Features.Admin.Base
@implements INotifiableComponent<Noop>
<AdminCardForm ViewModel="@ViewModel"
               FormName="@FormName"
               Title="Update TV titles"
               SubmitText="Update"
               hx-swap="outerHTML"
               hx-put="/admin/tv/titles"
               hx-confirm="Do you want to updated the TV titles?"></AdminCardForm>

@code {

    private const string FormName = "tv-titles-update-form";

    [Parameter] public Noop ViewModel { get; set; } = new();

    public static RenderFragment AsRenderFragment(Noop viewModel) =>
        builder =>
        {
            builder.OpenComponent<TvTitlesUpdate>(0);
            builder.AddAttribute(1, nameof(ViewModel), viewModel);
            builder.CloseComponent();
        };

    public static RenderFragment OkNotificationContent(Noop viewModel) =>
        builder => { builder.AddContent(0, "TV Titles will be processed in the background"); };

    public static string SuccessNotificationTitle { get; } = "TV Titles Update";
    public static string ErrorNotificationTitle { get; } = "TV Titles Update Failed";
}