function getItemFilterState(t){let e=Array.from(document.querySelectorAll("div#main-grid > section > article footer span.filters")),i=0===t.length;return e.map(e=>{let r=i;return r||(r=t.every(t=>"true"===e.dataset[t])),{item:e,showItem:r}})}function gridFilter(){return{filters:[],motionOk:window.matchMedia("(prefers-reduced-motion: no-preference)").matches,toggleFilter(t){this.filters.includes(t)?this.filters=this.filters.filter(e=>e!==t):this.filters=[...this.filters,t];let e=getItemFilterState(this.filters),i=e.filter(t=>t.showItem).length;document.startViewTransition&&this.motionOk&&i<20?document.startViewTransition(()=>this.applyFilters(e)):this.applyFilters(e)},applyFilters(t){t.forEach(t=>{t.item.closest("article").style.display=t.showItem?"":"none"})}}}