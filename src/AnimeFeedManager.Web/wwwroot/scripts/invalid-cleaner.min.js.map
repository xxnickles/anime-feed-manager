{"version":3,"sources":["wwwroot/scripts/invalid-cleaner.js"],"sourcesContent":["(() => {\n    /**\n     * Alpine.js plugin: x-invalid-cleaner\n     *\n     * Enhanced plugin that:\n     * 1. Removes the 'invalid' class from inputs when user starts editing them\n     * 2. Gracefully hides ValidationErrorInfo components using Tailwind transitions\n     * Apply to any container element (form, fieldset, div) or directly to an input.\n     */\n    function plugin(Alpine) {\n        Alpine.directive('invalid-cleaner', (el, { modifiers }, { cleanup }) => {\n\n            function handleInput(event) {\n                const target = event.target;\n\n                // Only handle input, select, and textarea elements\n                if (['INPUT', 'SELECT', 'TEXTAREA'].includes(target.tagName)) {\n                    // Remove 'invalid' class when user starts editing\n                    if (target.classList.contains('invalid')) {\n                        target.classList.remove('invalid');\n                    }\n\n                    // Find and gracefully hide validation error icons\n                    hideValidationErrorIcons(target);\n                }\n            }\n\n            function hideValidationErrorIcons(inputElement) {\n                // Look for validation error icons in the same label or nearby\n                const label = inputElement.closest('label');\n                if (!label) return;\n\n                // Find ValidationErrorInfo components\n                const errorIcons = label.querySelectorAll('.validation-error-icon');\n\n                errorIcons.forEach(icon => {\n                    // Skip if already being hidden\n                    if (icon.classList.contains('opacity-0')) return;\n\n                    // Add Tailwind classes for hiding transition\n                    icon.classList.add('opacity-0', 'scale-75', 'pointer-events-none');\n\n                    // Remove from DOM after transition completes\n                    // Using transitionend event for better timing\n                    const handleTransitionEnd = (e) => {\n                        if (e.target === icon && e.propertyName === 'opacity') {\n                            icon.remove();\n                            icon.removeEventListener('transitionend', handleTransitionEnd);\n                        }\n                    };\n\n                    icon.addEventListener('transitionend', handleTransitionEnd);\n\n                    // Fallback timeout in case transitionend doesn't fire\n                    setTimeout(() => {\n                        if (icon.parentNode && icon.classList.contains('opacity-0')) {\n                            icon.remove();\n                            icon.removeEventListener('transitionend', handleTransitionEnd);\n                        }\n                    }, 350); // Slightly longer than CSS transition\n                });\n            }\n\n            // Attach event listener\n            el.addEventListener('input', handleInput, true);\n\n            // Cleanup\n            cleanup(() => {\n                el.removeEventListener('input', handleInput, true);\n            });\n        });\n    }\n\n    // Register the plugin\n    document.addEventListener(\"alpine:init\", () => {\n        window.Alpine.plugin(plugin);\n    });\n\n    // Auto-register if Alpine is already initialized\n    if (window.Alpine) {\n        window.Alpine.plugin(plugin);\n    }\n})();"],"names":["plugin","Alpine","directive","el","modifiers","cleanup","handleInput","event","target","includes","tagName","classList","contains","remove","hideValidationErrorIcons","inputElement","label","closest","errorIcons","querySelectorAll","forEach","icon","add","handleTransitionEnd","e","propertyName","removeEventListener","addEventListener","setTimeout","parentNode","document","window"],"mappings":"AASI,SAASA,EAAOC,CAAM,EAClBA,EAAOC,SAAS,CAAC,kBAAmB,CAACC,EAAI,CAAEC,UAAAA,CAAS,CAAE,CAAE,CAAEC,QAAAA,CAAO,CAAE,IAE/D,SAASC,EAAYC,CAAK,EACtB,IAAMC,EAASD,EAAMC,MAAM,CAGvB,CAAC,QAAS,SAAU,WAAW,CAACC,QAAQ,CAACD,EAAOE,OAAO,IAEnDF,EAAOG,SAAS,CAACC,QAAQ,CAAC,YAC1BJ,EAAOG,SAAS,CAACE,MAAM,CAAC,WAI5BC,AAIR,SAAkCC,CAAY,EAE1C,IAAMC,EAAQD,EAAaE,OAAO,CAAC,SACnC,GAAKD,EAKLE,AAFmBF,EAAMG,gBAAgB,CAAC,0BAE/BC,OAAO,CAACC,IAEf,GAAIA,EAAKV,SAAS,CAACC,QAAQ,CAAC,aAAc,OAG1CS,EAAKV,SAAS,CAACW,GAAG,CAAC,YAAa,WAAY,uBAI5C,IAAMC,EAAsB,AAACC,IACrBA,EAAEhB,MAAM,GAAKa,GAAQG,AAAmB,YAAnBA,EAAEC,YAAY,GACnCJ,EAAKR,MAAM,GACXQ,EAAKK,mBAAmB,CAAC,gBAAiBH,GAElD,EAEAF,EAAKM,gBAAgB,CAAC,gBAAiBJ,GAGvCK,WAAW,KACHP,EAAKQ,UAAU,EAAIR,EAAKV,SAAS,CAACC,QAAQ,CAAC,eAC3CS,EAAKR,MAAM,GACXQ,EAAKK,mBAAmB,CAAC,gBAAiBH,GAElD,EAAG,IACP,EACJ,EAtCiCf,GAEjC,CAuCAL,EAAGwB,gBAAgB,CAAC,QAASrB,EAAa,CAAA,GAG1CD,EAAQ,KACJF,EAAGuB,mBAAmB,CAAC,QAASpB,EAAa,CAAA,EACjD,EACJ,EACJ,CAGAwB,SAASH,gBAAgB,CAAC,cAAe,KACrCI,OAAO9B,MAAM,CAACD,MAAM,CAACA,EACzB,GAGI+B,OAAO9B,MAAM,EACb8B,OAAO9B,MAAM,CAACD,MAAM,CAACA"}