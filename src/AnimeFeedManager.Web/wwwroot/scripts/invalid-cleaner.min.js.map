{"version":3,"sources":["wwwroot/scripts/invalid-cleaner.js"],"sourcesContent":["(() => {\r\n    /**\r\n     * Alpine.js plugin: x-invalid-cleaner\r\n     *\r\n     * Enhanced plugin that:\r\n     * 1. Removes the 'invalid' class from inputs when user starts editing them\r\n     * 2. Gracefully hides ValidationErrorInfo components using Tailwind transitions\r\n     * Apply to any container element (form, fieldset, div) or directly to an input.\r\n     */\r\n    function plugin(Alpine) {\r\n        Alpine.directive('invalid-cleaner', (el, { modifiers }, { cleanup }) => {\r\n\r\n            function handleInput(event) {\r\n                const target = event.target;\r\n\r\n                // Only handle input, select, and textarea elements\r\n                if (['INPUT', 'SELECT', 'TEXTAREA'].includes(target.tagName)) {\r\n                    // Remove 'invalid' class when user starts editing\r\n                    if (target.classList.contains('invalid')) {\r\n                        target.classList.remove('invalid');\r\n                    }\r\n\r\n                    // Find and gracefully hide validation error icons\r\n                    hideValidationErrorIcons(target);\r\n                }\r\n            }\r\n\r\n            function hideValidationErrorIcons(inputElement) {\r\n                // Look for validation error icons in the same label or nearby\r\n                const label = inputElement.closest('label');\r\n                if (!label) return;\r\n\r\n                // Find ValidationErrorInfo components\r\n                const errorIcons = label.querySelectorAll('.validation-error-icon');\r\n\r\n                errorIcons.forEach(icon => {\r\n                    // Skip if already being hidden\r\n                    if (icon.classList.contains('opacity-0')) return;\r\n\r\n                    // Add Tailwind classes for hiding transition\r\n                    icon.classList.add('opacity-0', 'scale-75', 'pointer-events-none');\r\n\r\n                    // Remove from DOM after transition completes\r\n                    // Using transitionend event for better timing\r\n                    const handleTransitionEnd = (e) => {\r\n                        if (e.target === icon && e.propertyName === 'opacity') {\r\n                            icon.remove();\r\n                            icon.removeEventListener('transitionend', handleTransitionEnd);\r\n                        }\r\n                    };\r\n\r\n                    icon.addEventListener('transitionend', handleTransitionEnd);\r\n\r\n                    // Fallback timeout in case transitionend doesn't fire\r\n                    setTimeout(() => {\r\n                        if (icon.parentNode && icon.classList.contains('opacity-0')) {\r\n                            icon.remove();\r\n                            icon.removeEventListener('transitionend', handleTransitionEnd);\r\n                        }\r\n                    }, 350); // Slightly longer than CSS transition\r\n                });\r\n            }\r\n\r\n            // Attach event listener\r\n            el.addEventListener('input', handleInput, true);\r\n\r\n            // Cleanup\r\n            cleanup(() => {\r\n                el.removeEventListener('input', handleInput, true);\r\n            });\r\n        });\r\n    }\r\n\r\n    // Register the plugin\r\n    document.addEventListener(\"alpine:init\", () => {\r\n        window.Alpine.plugin(plugin);\r\n    });\r\n\r\n    // Auto-register if Alpine is already initialized\r\n    if (window.Alpine) {\r\n        window.Alpine.plugin(plugin);\r\n    }\r\n})();"],"names":["plugin","Alpine","directive","el","modifiers","cleanup","handleInput","event","target","includes","tagName","classList","contains","remove","hideValidationErrorIcons","inputElement","label","closest","errorIcons","querySelectorAll","forEach","icon","add","handleTransitionEnd","e","propertyName","removeEventListener","addEventListener","setTimeout","parentNode","document","window"],"mappings":"AASI,SAASA,EAAOC,CAAM,EAClBA,EAAOC,SAAS,CAAC,kBAAmB,CAACC,EAAI,CAAEC,UAAAA,CAAS,CAAE,CAAE,CAAEC,QAAAA,CAAO,CAAE,IAE/D,SAASC,EAAYC,CAAK,EACtB,IAAMC,EAASD,EAAMC,MAAM,CAGvB,CAAC,QAAS,SAAU,WAAW,CAACC,QAAQ,CAACD,EAAOE,OAAO,IAEnDF,EAAOG,SAAS,CAACC,QAAQ,CAAC,YAC1BJ,EAAOG,SAAS,CAACE,MAAM,CAAC,WAI5BC,AAIR,SAAkCC,CAAY,EAE1C,IAAMC,EAAQD,EAAaE,OAAO,CAAC,SACnC,GAAKD,EAKLE,AAFmBF,EAAMG,gBAAgB,CAAC,0BAE/BC,OAAO,CAACC,IAEf,GAAIA,EAAKV,SAAS,CAACC,QAAQ,CAAC,aAAc,OAG1CS,EAAKV,SAAS,CAACW,GAAG,CAAC,YAAa,WAAY,uBAI5C,IAAMC,EAAsB,AAACC,IACrBA,EAAEhB,MAAM,GAAKa,GAAQG,AAAmB,YAAnBA,EAAEC,YAAY,GACnCJ,EAAKR,MAAM,GACXQ,EAAKK,mBAAmB,CAAC,gBAAiBH,GAElD,EAEAF,EAAKM,gBAAgB,CAAC,gBAAiBJ,GAGvCK,WAAW,KACHP,EAAKQ,UAAU,EAAIR,EAAKV,SAAS,CAACC,QAAQ,CAAC,eAC3CS,EAAKR,MAAM,GACXQ,EAAKK,mBAAmB,CAAC,gBAAiBH,GAElD,EAAG,IACP,EACJ,EAtCiCf,GAEjC,CAuCAL,EAAGwB,gBAAgB,CAAC,QAASrB,EAAa,CAAA,GAG1CD,EAAQ,KACJF,EAAGuB,mBAAmB,CAAC,QAASpB,EAAa,CAAA,EACjD,EACJ,EACJ,CAGAwB,SAASH,gBAAgB,CAAC,cAAe,KACrCI,OAAO9B,MAAM,CAACD,MAAM,CAACA,EACzB,GAGI+B,OAAO9B,MAAM,EACb8B,OAAO9B,MAAM,CAACD,MAAM,CAACA"}