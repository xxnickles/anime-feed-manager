{"version":3,"sources":["wwwroot/scripts/htmx-event-params.js"],"sourcesContent":["/*\nEvent Params Extension\n============================\nThis extension appends custom event detail values to HTMX request URLs.\n\nUsage:\n  <div hx-get=\"/endpoint\"\n       hx-trigger=\"load, my-event from:body\"\n       hx-ext=\"event-params\"\n       data-param-name=\"period\">\n\nWhen 'my-event' is dispatched with { detail: { value: '30d' } },\nthe request URL becomes '/endpoint?period=30d'.\n\nExternal trigger example:\n  <select x-data @change=\"$dispatch('my-event', { value: $el.value })\">\n*/\n\n(function () {\n\n    htmx.defineExtension(\"event-params\", {\n\n        /**\n         * onEvent handles all events passed to this extension.\n         *\n         * @param {string} name\n         * @param {CustomEvent} evt\n         */\n        onEvent: function (name, evt) {\n\n            if (name !== \"htmx:configRequest\") {\n                return;\n            }\n\n            var triggeringEvent = evt.detail.triggeringEvent;\n            var paramName = evt.detail.elt.dataset.paramName;\n\n            // Only append if we have both a value from the event and a param name configured\n            if (!triggeringEvent?.detail?.value || !paramName) {\n                return;\n            }\n\n            var separator = evt.detail.path.includes(\"?\") ? \"&\" : \"?\";\n            evt.detail.path += separator + paramName + \"=\" + encodeURIComponent(triggeringEvent.detail.value);\n        }\n    });\n\n})();\n"],"names":["htmx","defineExtension","onEvent","name","evt","triggeringEvent","detail","paramName","elt","dataset","value","separator","path","includes","encodeURIComponent"],"mappings":"AAoBIA,KAAKC,eAAe,CAAC,eAAgB,CAQjCC,QAAS,SAAUC,CAAI,CAAEC,CAAG,EAExB,GAAID,AAAS,uBAATA,GAIJ,IAAIE,EAAkBD,EAAIE,MAAM,CAACD,eAAe,CAC5CE,EAAYH,EAAIE,MAAM,CAACE,GAAG,CAACC,OAAO,CAACF,SAAS,CAGhD,GAAI,AAACF,GAAiBC,QAAQI,OAAUH,GAIxC,IAAII,EAAYP,EAAIE,MAAM,CAACM,IAAI,CAACC,QAAQ,CAAC,KAAO,IAAM,GACtDT,CAAAA,EAAIE,MAAM,CAACM,IAAI,EAAID,EAAYJ,EAAY,IAAMO,mBAAmBT,EAAgBC,MAAM,CAACI,KAAK,GACpG,CACJ"}